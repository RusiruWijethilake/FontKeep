output: dist/
releases:
  - name: dev
    jobs:
      # Windows MSI
      - name: windows-msi
        package:
          platform: windows
          target: msi
          build_args:
            dart-define: "NEW_RELIC_KEY={{env.NEW_RELIC_KEY}}"
      
      # Windows Portable (Zip)
      - name: windows-zip
        package:
          platform: windows
          target: zip
          build_args:
            dart-define: "NEW_RELIC_KEY={{env.NEW_RELIC_KEY}}"

      # Linux AppImage
      - name: linux-appimage
        package:
          platform: linux
          target: appimage
          build_args:
            dart-define: "NEW_RELIC_KEY={{env.NEW_RELIC_KEY}}"

      # macOS Zip (DMG requires signing certs, Zip is safer for CI without certs)
      - name: macos-zip
        package:
          platform: macos
          target: zip
          build_args:
            dart-define: "NEW_RELIC_KEY={{env.NEW_RELIC_KEY}}"